"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var fs = require("fs-extra");
var constants_1 = require("./constants");
var copyFileSync = require('fs-copy-file-sync');
exports.cleanup = function () {
    fs.removeSync('.clasp.json');
    fs.removeSync('.claspignore');
    fs.removeSync('Code.js');
    fs.removeSync('appsscript.json');
};
exports.setup = function () {
    fs.writeFileSync('.clasp.json', constants_1.CLASP_SETTINGS.valid);
    fs.writeFileSync('appsscript.json', constants_1.TEST_APPSSCRIPT_JSON);
};
exports.setupWithoutGCPProject = function () {
    fs.writeFileSync('.clasp.json', constants_1.CLASP_SETTINGS.validWithoutProjectId);
    fs.writeFileSync('appsscript.json', constants_1.TEST_APPSSCRIPT_JSON);
};
exports.rndStr = function () { return Math.random().toString(36).substr(2); };
exports.backupSettings = function () {
    // fs.copyFileSync isn't supported in Node 6/7
    if (fs.existsSync(constants_1.CLASP_PATHS.rcGlobal)) {
        copyFileSync(constants_1.CLASP_PATHS.rcGlobal, constants_1.CLASP_PATHS.rcGlobal + "~");
    }
    if (fs.existsSync(constants_1.CLASP_PATHS.rcLocal)) {
        copyFileSync(constants_1.CLASP_PATHS.rcLocal, constants_1.CLASP_PATHS.rcLocal + "~");
    }
    if (fs.existsSync(constants_1.CLASP_PATHS.settingsLocal)) {
        copyFileSync(constants_1.CLASP_PATHS.settingsLocal, constants_1.CLASP_PATHS.settingsLocal + "~");
    }
};
exports.restoreSettings = function () {
    if (fs.existsSync(constants_1.CLASP_PATHS.rcGlobal + "~")) {
        fs.renameSync(constants_1.CLASP_PATHS.rcGlobal + "~", constants_1.CLASP_PATHS.rcGlobal);
    }
    if (fs.existsSync(constants_1.CLASP_PATHS.rcLocal + "~")) {
        fs.renameSync(constants_1.CLASP_PATHS.rcLocal + "~", constants_1.CLASP_PATHS.rcLocal);
    }
    if (fs.existsSync(constants_1.CLASP_PATHS.settingsLocal + "~")) {
        fs.renameSync(constants_1.CLASP_PATHS.settingsLocal + "~", constants_1.CLASP_PATHS.settingsLocal);
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnVuY3Rpb25zLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZnVuY3Rpb25zLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsNkJBQStCO0FBQy9CLHlDQUlxQjtBQUVyQixJQUFNLFlBQVksR0FBRyxPQUFPLENBQUMsbUJBQW1CLENBQUMsQ0FBQztBQUVyQyxRQUFBLE9BQU8sR0FBRztJQUNyQixFQUFFLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQzdCLEVBQUUsQ0FBQyxVQUFVLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDOUIsRUFBRSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUN6QixFQUFFLENBQUMsVUFBVSxDQUFDLGlCQUFpQixDQUFDLENBQUM7QUFDbkMsQ0FBQyxDQUFDO0FBRVcsUUFBQSxLQUFLLEdBQUc7SUFDbkIsRUFBRSxDQUFDLGFBQWEsQ0FBQyxhQUFhLEVBQUUsMEJBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN0RCxFQUFFLENBQUMsYUFBYSxDQUFDLGlCQUFpQixFQUFFLGdDQUFvQixDQUFDLENBQUM7QUFDNUQsQ0FBQyxDQUFDO0FBRVcsUUFBQSxzQkFBc0IsR0FBRztJQUNwQyxFQUFFLENBQUMsYUFBYSxDQUFDLGFBQWEsRUFBRSwwQkFBYyxDQUFDLHFCQUFxQixDQUFDLENBQUM7SUFDdEUsRUFBRSxDQUFDLGFBQWEsQ0FBQyxpQkFBaUIsRUFBRSxnQ0FBb0IsQ0FBQyxDQUFDO0FBQzVELENBQUMsQ0FBQztBQUVXLFFBQUEsTUFBTSxHQUFHLGNBQU0sT0FBQSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBcEMsQ0FBb0MsQ0FBQztBQUVwRCxRQUFBLGNBQWMsR0FBRztJQUM1Qiw4Q0FBOEM7SUFDOUMsSUFBSSxFQUFFLENBQUMsVUFBVSxDQUFDLHVCQUFXLENBQUMsUUFBUSxDQUFDLEVBQUU7UUFDdkMsWUFBWSxDQUFDLHVCQUFXLENBQUMsUUFBUSxFQUFLLHVCQUFXLENBQUMsUUFBUSxNQUFHLENBQUMsQ0FBQztLQUNoRTtJQUNELElBQUksRUFBRSxDQUFDLFVBQVUsQ0FBQyx1QkFBVyxDQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQ3RDLFlBQVksQ0FBQyx1QkFBVyxDQUFDLE9BQU8sRUFBSyx1QkFBVyxDQUFDLE9BQU8sTUFBRyxDQUFDLENBQUM7S0FDOUQ7SUFDRCxJQUFJLEVBQUUsQ0FBQyxVQUFVLENBQUMsdUJBQVcsQ0FBQyxhQUFhLENBQUMsRUFBRTtRQUM1QyxZQUFZLENBQUMsdUJBQVcsQ0FBQyxhQUFhLEVBQUssdUJBQVcsQ0FBQyxhQUFhLE1BQUcsQ0FBQyxDQUFDO0tBQzFFO0FBQ0gsQ0FBQyxDQUFDO0FBRVcsUUFBQSxlQUFlLEdBQUc7SUFDN0IsSUFBSSxFQUFFLENBQUMsVUFBVSxDQUFJLHVCQUFXLENBQUMsUUFBUSxNQUFHLENBQUMsRUFBRTtRQUM3QyxFQUFFLENBQUMsVUFBVSxDQUFJLHVCQUFXLENBQUMsUUFBUSxNQUFHLEVBQUUsdUJBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztLQUNqRTtJQUNELElBQUksRUFBRSxDQUFDLFVBQVUsQ0FBSSx1QkFBVyxDQUFDLE9BQU8sTUFBRyxDQUFDLEVBQUU7UUFDNUMsRUFBRSxDQUFDLFVBQVUsQ0FBSSx1QkFBVyxDQUFDLE9BQU8sTUFBRyxFQUFFLHVCQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7S0FDL0Q7SUFDRCxJQUFJLEVBQUUsQ0FBQyxVQUFVLENBQUksdUJBQVcsQ0FBQyxhQUFhLE1BQUcsQ0FBQyxFQUFFO1FBQ2xELEVBQUUsQ0FBQyxVQUFVLENBQUksdUJBQVcsQ0FBQyxhQUFhLE1BQUcsRUFBRSx1QkFBVyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0tBQzNFO0FBQ0gsQ0FBQyxDQUFDIn0=